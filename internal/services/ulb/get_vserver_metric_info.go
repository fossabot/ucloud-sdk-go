//Code is generated by ucloud code generator, don't modify it by hand, it will cause undefined behaviors.
//go:generate ucloud-gen-go-api ULB GetVServerMetricInfo

package ulb

import (
	"github.com/ucloud/ucloud-sdk-go/ucloud/request"
	"github.com/ucloud/ucloud-sdk-go/ucloud/response"
)

// GetVServerMetricInfoRequest is request schema for GetVServerMetricInfo action
type GetVServerMetricInfoRequest struct {
	request.CommonBase

	// 项目ID
	Project *string `required:"true"`

	// 负载均衡实例的ID
	ULBId *string `required:"true"`

	// VServer实例的ID的数组
	VServerIds []string `required:"true"`

	// VServer 实例的 Id
	VServerId *string `required:"false"`
}

// GetVServerMetricInfoResponse is response schema for GetVServerMetricInfo action
type GetVServerMetricInfoResponse struct {
	response.CommonBase

	// VServer列表
	DataSet []DataSetVServer

	// 符合条件的总数
	TotalCount int
}

// NewGetVServerMetricInfoRequest will create request of GetVServerMetricInfo action.
func (c *ULBClient) NewGetVServerMetricInfoRequest() *GetVServerMetricInfoRequest {
	req := &GetVServerMetricInfoRequest{}
	c.Client.SetupRequest(req)
	return req
}

// GetVServerMetricInfo - GetVServerMetricInfo
func (c *ULBClient) GetVServerMetricInfo(req *GetVServerMetricInfoRequest) (*GetVServerMetricInfoResponse, error) {
	var err error
	var res GetVServerMetricInfoResponse

	err = c.Client.InvokeAction("GetVServerMetricInfo", req, &res)
	if err != nil {
		return &res, err
	}

	return &res, nil
}
